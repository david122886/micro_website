<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, :remote => true ,:id=>"edit_password"}) do |f| %>

  <li><%= f.label :current_password ,'旧密码'%>
    <%= f.password_field :current_password %></li>

  <li><%= f.label :password, "新密码" %>
    <%= f.password_field :password %></li>

  <li><%= f.label :password_confirmation, "确认" %>
    <%= f.password_field :password_confirmation %></li>


  <div class="uinfo_act">
    <button class="blue_btn" onclick="return checkForm()" >确认</button>
    <button type="button" class="blue_btn cancel">取消</button>
  </div>
<% end %>


<script>	
  function checkForm(){
		
    var flg=false;
    
    var oldpassword = $("#edit_password").find("#user_current_password").val();
    var password = $("#edit_password").find("#user_password").val();
    var repassword = $("#edit_password").find("#user_password_confirmation").val();
    
		
			
    if(password.length>=6 && oldpassword.length>=6){
      if($.trim(password).length==0){
					
        alert("提示:\n\n密码需要至少包含一个非空白符")
      }
      else if(password==repassword){
        flg=true;
      }
      else{
        alert("提示:\n\n两次密码输入不一致");
      }
    }else{
      alert("提示:\n\n密码长度不足6");
    }
				
				
    return flg;
		 
		
  }
</script>
